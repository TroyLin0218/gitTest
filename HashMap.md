HashMap



HashMap结构：

Java8之前：数组+链表

用key的hashCode值经过扰动函数处理之后得到hash值，然后根据hash值计算当前key对应的value在数组中的存放位置；其中，如果当前位置已经存在元素的话就判断该元素与要存入的元素的hash值以及key是否相同，相同覆盖，不同就通过拉链法来解决冲突，简单说就是在数组当前位置上对应的的链表里面加入当前元素

Java8以后：

链表的长度(bucket上的节点数量)大于阈值(默认是8)时或者数组的长度大于64，将链表转为红黑树，减少搜索的时间，提高性能；反之，bucket数量小于6时就转为链表；



默认容量是16，并且一直是2的幂次倍



put的过程：

1⃣️判断table是否为空或者长度是否为0，长度为0时resize扩容

2⃣️如果根据hash值计算的数组下标如果没有元素直接插入

3⃣️如果位置上有元素，则需要当前元素和已有元素做比较，如果key相同直接覆盖，不相同时判断数组当前位置是红黑树还是链表，链表就插入尾部，红黑树就找到合适的位置插入





resize过程